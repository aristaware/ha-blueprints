blueprint:
  name: Zigbee Wireless Button (Zigbee2MQTT)
  description: >
    Configure actions for a Zigbee wireless button using Zigbee2MQTT.
    Supports single, double, and long press events.
  domain: automation

  input:
    mqtt_topic:
      name: Zigbee2MQTT Action Topic
      description: >
        Enter the Zigbee2MQTT action topic for this button.
        Example: zigbee2mqtt/my_button/action
      selector:
        text:

    press_action:
      name: Single Press Action
      default: []
      selector:
        action: {}

    double_press_action:
      name: Double Press Action
      default: []
      selector:
        action: {}

    long_press_action:
      name: Long Press Action
      default: []
      selector:
        action: {}

trigger:
  - platform: mqtt
    topic: !input mqtt_topic

action:
  - choose:
      - conditions:
          - condition: template
            value_template: "{{ trigger.payload == 'single' }}"
        sequence: !input press_action

      - conditions:
          - condition: template
            value_template: "{{ trigger.payload == 'double' }}"
        sequence: !input double_press_action

      - conditions:
          - condition: template
            value_template: "{{ trigger.payload == 'long' }}"
        sequence: !input long_press_action
